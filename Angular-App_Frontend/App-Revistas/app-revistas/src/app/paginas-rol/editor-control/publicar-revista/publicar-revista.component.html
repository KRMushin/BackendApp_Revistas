<p class="text-center mt-4">Publicar Revista</p>

<form [formGroup]="publicacionRevistaForm" (ngSubmit)="subir()" class="container mt-4">
    <div class="form-group mb-3">
        <label for="tituloRevista" class="form-label">Título de la Revista:</label>
        <input id="tituloRevista" name="tituloRevista" class="form-control" placeholder="Título de la Revista"
        formControlName="tituloRevista"
        [class.is-invalid]="publicacionRevistaForm.controls['tituloRevista'].invalid && publicacionRevistaForm.controls['tituloRevista'].touched"/>
        
        <div *ngIf="publicacionRevistaForm.controls['tituloRevista'].invalid && publicacionRevistaForm.controls['tituloRevista'].touched" class="invalid-feedback">
            Por favor ingrese un título.
        </div>
    </div>
    
    <div class="form-group mb-3">
        <label for="fecha" class="form-label">Fecha de Publicación:</label>
        <input type="date" id="fecha" name="fecha" class="form-control"
        formControlName="fechaPublicacion"
        [class.is-invalid]="publicacionRevistaForm.controls['fechaPublicacion'].invalid && publicacionRevistaForm.controls['fechaPublicacion'].touched"/>
        
        <div *ngIf="publicacionRevistaForm.controls['fechaPublicacion'].invalid && publicacionRevistaForm.controls['fechaPublicacion'].touched" class="invalid-feedback">
            Por favor ingrese una fecha de publicación.
        </div>
    </div>
    
    <div class="form-group mb-3">
        <label for="descripcion" class="form-label">Descripción:</label>
        <input type="text" id="descripcionRevista" name="descripcionRevista" class="form-control"
        formControlName="descripcion" placeholder="Descripción de la Revista"
        [class.is-invalid]="publicacionRevistaForm.controls['descripcion'].invalid && publicacionRevistaForm.controls['descripcion'].touched"/>
        
        <div *ngIf="publicacionRevistaForm.controls['descripcion'].invalid && publicacionRevistaForm.controls['descripcion'].touched" class="invalid-feedback">
            Por favor ingrese una descripción.
        </div>
    </div>
    <div class="form-group mb-3">
        <label for="categoria" class="form-label">Categoría:</label>
        <select id="categoria" name="categoria" class="form-control" 
        formControlName="idCategoria" (change)="cambiarSegunCategoria($event)">
            <option *ngFor="let categoria of categorias" [value]="categoria.idCategoria">{{ categoria.nombreCategoria }}</option>

        </select>
    </div>

    <div class="form-group mb-3">
        <label class="form-label">Etiquetas:</label>
        <div class="btn-group-toggle" data-toggle="buttons">
            <label class="btn btn-outline-primary" *ngFor="let etiqueta of etiquetasCategoria">
                <input type="checkbox" (change)="onEtiquetaChange($event)" [value]="etiqueta.idEtiqueta">
                {{ etiqueta.etiqueta }}
            </label>
        </div>
    </div>

    <div class="form-group mb-3">
        <label for="nombre" class="form-label">Nombre del autor: {{NombreUsuario}}</label>
    </div>

    <div class="form-group mb-4">
        <label for="archivoRevistaPDF" class="form-label">Subir Archivo PDF:</label>
        <input type="file" id="archivoRevistaPDF" name="archivoRevistaPDF" class="form-control"
               (change)="onFileChange($event)"/>
        
      </div>
      

    <button type="submit" class="btn btn-primary w-100" [disabled]="publicacionRevistaForm.invalid">Publicar Revista</button>
</form>